<html>
  <head>
    <title>YouTubeCast Video Server</title>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, Helvetica, sans-serif;
        font-size: larger;
      }

      #container {
        align-items: center;
        display: flex;
        flex-direction: column;
        gap: 10px;
        margin: 20px;
        width: 100%;
      }

      button {
        padding: 5px;
      }
    </style>
  </head>
  <body>
    <div id="container">
      <h2>YouTubeCast Video Server</h2>
      <p id="queueSize"></p>
      <button id="disableButton">Temporarily Disable</button>
      <p id="responseContainer"></p>
    </div>
    <script>
      const disableButton = document.getElementById('disableButton');
      const responseContainer = document.getElementById('responseContainer');
      disableButton.onclick = () =>
        fetch('/disable', { method: 'POST' })
          .then((response) => response.text())
          .then((responseText) => (responseContainer.innerText = responseText))
          .catch(() => (responseContainer.innerText = 'Failed to diable video server'));

      const queueSize = document.getElementById('queueSize');
      fetch('/queue')
        .then((response) => response.json())
        .then((data) => (queueSize.innerText = `Download queue contains ${data.length} videos`))
        .catch(() => (queueSize.innerText = 'Could not get download queue size'));
    </script>
  </body>
</html>
